"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[404],{4404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(2555),s=n(1591),r=n(5043),o=n(930),d=n(6667),i=n(579);const l=()=>{const[e,t]=(0,r.useState)(!0),[n,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[x,b]=(0,r.useState)({name:"",text:""}),[p,j]=(0,r.useState)(null),[A,g]=(0,r.useState)({user:"",bot:""}),[y,C]=(0,r.useState)(null),[f,v]=(0,r.useState)({name:"",text:""}),[w,M]=(0,r.useState)(null),k=async()=>{t(!0);try{const e=(0,d.P)((0,d.rJ)(o.db,"userOfMonthMessages"),(0,d.My)("createdAt","desc")),t=await(0,d.GG)(e);l(t.docs.map(e=>(0,a.A)({id:e.id},e.data())));const n=(0,d.P)((0,d.rJ)(o.db,"todayconversations"),(0,d.My)("createdAt","desc")),s=await(0,d.GG)(n);u(s.docs.map(e=>(0,a.A)({id:e.id},e.data())));const r=(0,d.P)((0,d.rJ)(o.db,"communityLeaderComments"),(0,d.My)("createdAt","desc")),i=await(0,d.GG)(r);h(i.docs.map(e=>(0,a.A)({id:e.id},e.data())))}catch(e){console.error("Error fetching data:",e)}t(!1)};return(0,r.useEffect)(()=>{k()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.m,{children:[(0,i.jsx)("title",{children:"Admin Panel | EmiBot AI Companion"}),(0,i.jsx)("meta",{name:"description",content:"Manage users, notes, and content from the admin panel."}),(0,i.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,i.jsxs)("div",{className:"admin-wrap",children:[(0,i.jsx)("h1",{className:"admin-title",children:"Admin Dashboard"}),e?(0,i.jsx)("p",{children:"Loading data..."}):null,(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{children:"User of Month Messages"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{p?(await(0,d.mZ)((0,d.H9)(o.db,"userOfMonthMessages",p),{name:x.name,text:x.text}),l(e=>e.map(e=>e.id===p?(0,a.A)((0,a.A)({},e),x):e)),j(null)):(await(0,d.gS)((0,d.rJ)(o.db,"userOfMonthMessages"),(0,a.A)((0,a.A)({},x),{},{createdAt:(0,d.O5)()})),k()),b({name:"",text:""})}catch(t){console.error("Error adding/updating userOfMonthMessages:",t)}},children:[(0,i.jsx)("input",{type:"text",placeholder:"Name",value:x.name,onChange:e=>b((0,a.A)((0,a.A)({},x),{},{name:e.target.value})),required:!0}),(0,i.jsx)("textarea",{placeholder:"Message",value:x.text,onChange:e=>b((0,a.A)((0,a.A)({},x),{},{text:e.target.value})),required:!0}),(0,i.jsx)("button",{type:"submit",children:p?"Update":"Add"}),p&&(0,i.jsx)("button",{type:"button",onClick:()=>{j(null),b({name:"",text:""})},children:"Cancel"})]}),(0,i.jsx)("ul",{children:n.map(e=>(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:e.name}),": ",e.text,(0,i.jsx)("button",{onClick:()=>(e=>{b({name:e.name,text:e.text}),j(e.id)})(e),children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{window.confirm("Delete this User of Month message?")&&(await(0,d.kd)((0,d.H9)(o.db,"userOfMonthMessages",e)),l(t=>t.filter(t=>t.id!==e)))})(e.id),children:"Delete"})]},e.id))})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{children:"Today Conversations"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{y?(await(0,d.mZ)((0,d.H9)(o.db,"todayconversations",y),{user:A.user,bot:A.bot}),u(e=>e.map(e=>e.id===y?(0,a.A)((0,a.A)({},e),A):e)),C(null)):(await(0,d.gS)((0,d.rJ)(o.db,"todayconversations"),(0,a.A)((0,a.A)({},A),{},{createdAt:(0,d.O5)()})),k()),g({user:"",bot:""})}catch(t){console.error("Error adding/updating todayconversations:",t)}},children:[(0,i.jsx)("input",{type:"text",placeholder:"User Message",value:A.user,onChange:e=>g((0,a.A)((0,a.A)({},A),{},{user:e.target.value})),required:!0}),(0,i.jsx)("input",{type:"text",placeholder:"Bot Response",value:A.bot,onChange:e=>g((0,a.A)((0,a.A)({},A),{},{bot:e.target.value})),required:!0}),(0,i.jsx)("button",{type:"submit",children:y?"Update":"Add"}),y&&(0,i.jsx)("button",{type:"button",onClick:()=>{C(null),g({user:"",bot:""})},children:"Cancel"})]}),(0,i.jsx)("ul",{children:c.map(e=>(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"User:"})," ",e.user,(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Bot:"})," ",e.bot,(0,i.jsx)("button",{onClick:()=>{return g({user:(t=e).user,bot:t.bot}),void C(t.id);var t},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{window.confirm("Delete this conversation?")&&(await(0,d.kd)((0,d.H9)(o.db,"todayconversations",e)),u(t=>t.filter(t=>t.id!==e)))})(e.id),children:"Delete"})]},e.id))})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{children:"Community Leader Comments"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{w?(await(0,d.mZ)((0,d.H9)(o.db,"communityLeaderComments",w),{name:f.name,text:f.text}),h(e=>e.map(e=>e.id===w?(0,a.A)((0,a.A)({},e),f):e)),M(null)):(await(0,d.gS)((0,d.rJ)(o.db,"communityLeaderComments"),(0,a.A)((0,a.A)({},f),{},{createdAt:(0,d.O5)()})),k()),v({name:"",text:""})}catch(t){console.error("Error adding/updating communityLeaderComments:",t)}},children:[(0,i.jsx)("input",{type:"text",placeholder:"Name",value:f.name,onChange:e=>v((0,a.A)((0,a.A)({},f),{},{name:e.target.value})),required:!0}),(0,i.jsx)("textarea",{placeholder:"Comment",value:f.text,onChange:e=>v((0,a.A)((0,a.A)({},f),{},{text:e.target.value})),required:!0}),(0,i.jsx)("button",{type:"submit",children:w?"Update":"Add"}),w&&(0,i.jsx)("button",{type:"button",onClick:()=>{M(null),v({name:"",text:""})},children:"Cancel"})]}),(0,i.jsx)("ul",{children:m.map(e=>(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:e.name}),": ",e.text,(0,i.jsx)("button",{onClick:()=>{return v({name:(t=e).name,text:t.text}),void M(t.id);var t},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{window.confirm("Delete this comment?")&&(await(0,d.kd)((0,d.H9)(o.db,"communityLeaderComments",e)),h(t=>t.filter(t=>t.id!==e)))})(e.id),children:"Delete"})]},e.id))})]})]})]})}}}]);
//# sourceMappingURL=404.7fac7691.chunk.js.map